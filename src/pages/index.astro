---
import Layout from 'src/layouts/Layout.astro'
import ProfileHeader from 'src/components/ProfileHeader.astro'
import Socials from 'src/components/Socials.astro'
import Footer from 'src/components/Footer.astro'
import { getCollection } from 'astro:content'

const articles = (await getCollection('articles')).sort(
  (a, b) => b.data.date.valueOf() - a.data.date.valueOf()
)
---

<Layout title="James Beck" description="Personal website and blog">
  <Fragment slot="head">
    <link
      rel="alternate"
      type="application/rss+xml"
      title="James Beck's Blog"
      href="/rss.xml"
    />
  </Fragment>

  <main class="container">
    <ProfileHeader />

    <div class="section">
      <p class="section-title">Bio</p>
      <p>
        James Beck is a Brooklyn-based writer, technologist, and music producer working on consumer blockchain applications.
      </p>
      <p>
        As Head of Growth at ENS Labs, mission is to increase brand awareness and drive integrations of ENS's decentralized identity protocol. Since 2017, James has been immersed in the Ethereum ecosystem, previously leading content and communications at Consensys, where he played a key role in go-to-market strategies for MetaMask and Linea. He's also brought his expertise to Mirror and Avara, focusing on consumer-driven growth in web3.
      </p>
      <p>
        James specializes in translating the complexities of crypto for traditional fintech, governments, and academiaâ€”bridging worlds to drive mainstream understanding and adoption. Before diving into web3, he worked on Track 1.5 dialogues between the U.S. and Chinese governments on critical policy issues.
      </p>
    </div>

    {
      articles.length > 0 && (
        <div class="section">
          <p class="section-title">Writing</p>
          <div class="blog-feed">
            {articles.slice(0, 3).map((article) => (
              <a href={`/blog/${article.id.replace(/\.md$/, '')}`} class="blog-card">
                {article.data.featuredImage && (
                  <img
                    src={article.data.featuredImage}
                    alt={article.data.title}
                    class="blog-card-image"
                  />
                )}
                <div class="blog-card-content">
                  <h3>{article.data.title}</h3>
                  <p class="blog-meta">
                    {new Intl.DateTimeFormat('en-US', {
                      month: 'short',
                      day: 'numeric',
                      year: 'numeric',
                    }).format(article.data.date)}
                  </p>
                </div>
              </a>
            ))}
          </div>
          <a href="/blog" class="cta-link">View all posts &rarr;</a>
        </div>
      )
    }

    <div class="section">
      <p class="section-title">Music</p>
      <p>
        Coming soon.
      </p>
    </div>

    <Socials />
    <Footer />
  </main>
</Layout>
